<!DOCTYPE html>
<html lang="ja">
<!-- Antigra による生成-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swift Orbit - ブロック崩し</title>
    <meta name="description" content="ブロックが迫りくる緊張感あふれるブロック崩しゲーム">
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="game-container">
        <!-- スタート画面 -->
        <div id="start-screen" class="screen active">
            <div class="title-container">
                <h1 class="game-title">SWIFT ORBIT</h1>
                <p class="game-subtitle">ブロック崩し</p>
            </div>
            <div class="menu-container">
                <p class="select-label">難易度を選択</p>
                <button class="btn btn-difficulty" data-difficulty="easy">
                    <span class="btn-text">簡単</span>
                    <span class="btn-desc">初心者向け</span>
                </button>
                <button class="btn btn-difficulty" data-difficulty="normal">
                    <span class="btn-text">普通</span>
                    <span class="btn-desc">標準的な難易度</span>
                </button>
                <button class="btn btn-difficulty" data-difficulty="hard">
                    <span class="btn-text">難しい</span>
                    <span class="btn-desc">上級者向け</span>
                </button>
                <button class="btn btn-difficulty" data-difficulty="extreme">
                    <span class="btn-text">極み</span>
                    <span class="btn-desc">究極の挑戦</span>
                </button>
                <button class="btn btn-help" id="start-help-btn">
                    <span class="btn-text">操作方法について</span>
                </button>
                <button class="btn btn-exit" id="exit-btn">
                    <span class="btn-text">ゲーム終了</span>
                </button>
            </div>
        </div>

        <!-- スキル選択画面 -->
        <div id="skill-select-screen" class="screen">
            <h2 class="screen-title">スキル選択</h2>
            <p class="screen-desc">ゲームで使用するスキルを3つ選んでください</p>

            <div class="selected-skills-container">
                <div class="selected-skill-slot" data-slot="0">空き</div>
                <div class="selected-skill-slot" data-slot="1">空き</div>
                <div class="selected-skill-slot" data-slot="2">空き</div>
            </div>

            <div class="skills-list-container" id="skills-list">
                <!-- JavaScriptで動的に生成 -->
            </div>

            <button class="btn btn-start disabled" id="game-start-btn">
                <span class="btn-text">ゲーム開始</span>
            </button>

            <button class="btn btn-back" id="back-to-difficulty-btn">
                <span class="btn-text">戻る</span>
            </button>
        </div>

        <!-- ゲーム画面 -->
        <div id="game-screen" class="screen">
            <div id="game-hud">
                <div class="hud-left">
                    <div class="hud-item">
                        <span class="hud-label">HP</span>
                        <div class="hp-bar">
                            <div class="hp-fill" id="hp-fill"></div>
                        </div>
                    </div>
                    <div class="hud-item">
                        <span class="hud-label">スコア</span>
                        <span class="hud-value" id="score-value">0</span>
                    </div>
                </div>
                <div class="hud-center">
                    <span class="difficulty-badge" id="difficulty-badge"></span>
                </div>
                <div class="hud-right">
                    <div class="hud-item">
                        <span class="hud-label">オーブ</span>
                        <span class="hud-value orb-value" id="orb-value">0</span>
                    </div>
                </div>
            </div>
            <div id="combo-container" style="display: none;">
                <span id="combo-value">0 COMBO</span>
                <span id="combo-bonus">+0%</span>
            </div>
            <canvas id="game-canvas"></canvas>
            <div id="skill-bar">
                <!-- JavaScriptで動的生成 -->
            </div>
        </div>

        <!-- ポーズ画面オーバーレイ -->
        <div id="pause-overlay" class="overlay">
            <div class="overlay-content">
                <h2 class="overlay-title">一時停止</h2>
                <button class="btn btn-overlay" id="resume-btn">
                    <span class="btn-text">ゲームに戻る</span>
                </button>
                <button class="btn btn-overlay" id="restart-btn">
                    <span class="btn-text">最初からやり直し</span>
                </button>
                <button class="btn btn-overlay" id="restart-skill-btn">
                    <span class="btn-text">スキル選択からやり直し</span>
                </button>
                <button class="btn btn-overlay" id="pause-help-btn">
                    <span class="btn-text">操作方法について</span>
                </button>
                <button class="btn btn-overlay" id="to-start-btn">
                    <span class="btn-text">スタート画面に戻る</span>
                </button>
                <button class="btn btn-overlay btn-exit" id="pause-exit-btn">
                    <span class="btn-text">ゲーム終了</span>
                </button>
            </div>
        </div>

        <!-- ゲームオーバー画面オーバーレイ -->
        <div id="gameover-overlay" class="overlay">
            <div class="overlay-content">
                <h2 class="overlay-title gameover-title">GAME OVER</h2>
                <p class="final-score">スコア: <span id="final-score">0</span></p>
                <div id="final-highscore-container" style="display: none; margin-bottom: 20px;">
                    <p class="final-score" style="font-size: 1.2rem; color: #ffd700;">ハイスコア: <span
                            id="final-highscore">0</span></p>
                    <p id="new-record-msg"
                        style="color: #ff00ff; font-weight: bold; animation: pulse 0.5s infinite alternate; display: none;">
                        CONNECT NEW RECORD!</p>
                </div>
                <button class="btn btn-overlay" id="gameover-restart-btn">
                    <span class="btn-text">もう一度プレイ</span>
                </button>
                <button class="btn btn-overlay" id="gameover-start-btn">
                    <span class="btn-text">スタート画面に戻る</span>
                </button>
            </div>
        </div>

        <!-- 操作説明画面オーバーレイ -->
        <div id="help-overlay" class="overlay">
            <div class="overlay-content help-content">
                <h2 class="overlay-title">操作方法・ルール</h2>
                <div class="help-scroll-area">
                    <div class="help-section">
                        <h3>基本ルール</h3>
                        <p>ブロックを破壊してスコアを稼ぐゲームです。HPが0になるとゲームオーバーです。</p>
                        <ul class="help-list">
                            <li>ブロックは時間経過とともに下降してきます。</li>
                            <li>難易度に応じてブロックの下降速度や出現頻度が変わります。</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h3>HPについて</h3>
                        <p>以下の条件で減少します：</p>
                        <ul class="help-list">
                            <li>ボールを落とす (-1)</li>
                            <li>ブロックが画面最下部に到達 (ブロックの残りHP分のダメージ)</li>
                            <li>ブロックがバー（パドル）に接触 (ブロックの残りHP分のダメージ)</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h3>オーブについて</h3>
                        <p>スキル発動に必要なエネルギーです。</p>
                        <ul class="help-list">
                            <li>ブロック破壊時に一定確率でドロップします。</li>
                            <li>バーでドロップしたオーブを受け止めると回収できます。</li>
                            <li>最大200個まで所持可能です。</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h3>スキルについて</h3>
                        <p>オーブを消費して強力なスキルを発動できます。Q, E, Rキー または画面下のボタンで使用します。</p>
                        <div id="help-skills-list" class="help-skills-grid">
                            <!-- JavaScriptで動的に生成 -->
                        </div>
                    </div>
                </div>
                <button class="btn btn-back" id="help-back-btn" style="margin-top: 20px;">
                    <span class="btn-text">閉じる</span>
                </button>
            </div>
        </div>
    </div>

    <script src="entities.js"></script>
    <script src="ui.js"></script>
    <script src="game.js"></script>
</body>

</html>